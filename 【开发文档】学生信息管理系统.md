# 【开发文档】学生信息管理系统

第一版：2024/7/4 11:14:53

主要目标：使用对象数组完成增删改查操作

## 本项目主要实现功能

1. 添加
2. 修改
3. 删除
4. 查看

## 项目设计

因为是学生信息管理系统，所以需要设计学生类，对于信息，提供下面的信息：

1. 学生学号
2. 学生姓名
3. 学生性别
4. 学生年龄

### 学生JavaBean

```java
package student_management;

/**
 * ClassName: Student
 * Package: student_management
 * Description:
 *
 * @author 憨八嘎
 * @version 1.0
 */
public class Student {
    // 学生属性
    private int id;
    private String name;
    private String gender;
    private int age;

    // 无参构造
    public Student() {
    }
    // 有参构造
    public Student(int id, String name, String gender, int age) {
        this.id = id;
        this.name = name;
        this.gender = gender;
        this.age = age;
    }

    // get/set方法
    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getGender() {
        return gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }
}
```

## 工具类设计

```java
package student_management;

/**
 * ClassName: StudentUtils
 * Package: student_management
 * Description:
 *
 * @author 憨八嘎
 * @version 1.0
 */
public class StudentUtils {
    // 工具类私有构造函数
    private StudentUtils() {

    }

    // 提供返回索引的函数
    public static int studentIdIndex(Student[] students, int size, int id) {
        for (int i = 0; i < size; i++) {
            if (students[i].getId() == id) {
                // 找到返回下标
                return i;
            }
        }

        // 没找到返回-1
        return -1;
    }

    // 排序学生
    public static void sort(Student[] students, int size) {
        for (int i = 0; i < size - 1; i++) {
            for (int j = 0; j < size - 1 - i; j++) {
                if (students[i].getId() > students[i + 1].getId()) {
                    Student student = students[i];
                    students[i] = students[i + 1];
                    students[i + 1] = student;
                }
            }
        }
    }
}

```

## 功能设计

### 启动界面

```java
// 启动
public void menu() {
    // 循环显示界面
    while (true) {
        System.out.println("********学生信息管理系统********");
        System.out.println("1. 添加学生");
        System.out.println("2. 修改学生");
        System.out.println("3. 删除学生");
        System.out.println("4. 查看学生");
        System.out.println("5. 退出系统");
        System.out.println("********************************");
        System.out.print("请输入选项：");
        // 获取用户输入
        int choice = sc.nextInt();
        // 打印后换行
        System.out.println();
        // 使用switch语句判断输入
        switch (choice) {
            case 1:
                addStudent();
                break;
            case 2:
                updateStudent();
                break;
            case 3:
                deleteStudent();
                break;
            case 4:
                showStudent();
                break;
            case 5:
                return;
        }
    }
}
```

### 添加功能

本次版本中使用的存储结构选择数组，所以需要定义一个对象数组，并且最多的学生个数为20

```java
// 学生数组
Student students[] = new Student[20];
```

但是需要注意的是，因为数组中的属性`length`只是显示数组的长度，而不是数组的有效数据个数，所以如果数组并没有存满，那么在遍历过程中就不可以显示没有存储学生对象的部分，为了解决这个问题，可以使用一个`size`变量表示有效数据个数，并且表示下一个存储位置的下标

因为`size`是便于显示数组有效数据个数，所以需要满足整个类都能访问，放在属性位置

当删除学生后，如果再添加的学生的学号小于最后一个学生学号，那么显示的顺序就是乱序，使用排序对每一次插入进行一次排序，这里使用冒泡排序

```java
// 添加学生
public void addStudent() {
    // 判断数组是否已满，防止再次添加学生导致越界
    if (size == students.length) {
        System.out.println("班级已满，无法再添加");
        return;
    }


    // 添加学生
    // 获取用户输入
    System.out.print("请输入学生学号：");
    int id = sc.nextInt();
    // 如果已经存在对应学号的学生则停止输入
    int index = StudentUtils.studentIdIndex(students, size, id);
    while (index != -1)
    {
        System.out.println("已经存在该学生学号，请重新输入学生学号");
        System.out.print("请输入学生学号：");
        id = sc.nextInt();
        index = StudentUtils.studentIdIndex(students, size, id);
    }
    System.out.print("请输入学生姓名：");
    String name = sc.next();
    System.out.print("请输入学生性别：");
    String gender = sc.next();
    System.out.print("请输入学生年龄：");
    int age = sc.nextInt();
    // 通过变量创建学生对象
    Student student = new Student(id, name, gender, age);
    // 将学生对象插入到对象数组中，并且改变size大小
    students[size++] = student;

    // 排序学生
    StudentUtils.sort(students, size);
}

```

### 修改功能

对于修改功能来说，本次版本提供使用学生学号查询指定学生，再根据学号对应的学生索引修改学生

因为查询需要修改的学生在数组中的下标是多个方法都需要使用的，所以可以放在一个工具类中

```java
// 修改学生
public void updateStudent() {
    // 获取用户输入
    System.out.print("请输入需要修改的学生学号：");
    int id = sc.nextInt();
    // 调用下标查找寻找学生
    int index = StudentUtils.studentIdIndex(students, size, id);
    if (index == -1) {
        // 没找到该学生时退出函数
        System.out.println("未找到该学生");
        return;
    }

    // 找到学生后开始修改
    students[index].setName(sc.next());
    students[index].setGender(sc.next());
    students[index].setAge(sc.nextInt());
}
```

### 删除功能

对于删除功能来说，本次版本使用的数组，所以涉及到挪动数据和下标查找，对于下标查找，可以使用定义的工具类中的方法处理，挪动数据则需要将指定下标后面的元素依次覆盖前面的数据

```java
// 删除学生
public void deleteStudent() {
    // 数组为空不可以执行删除
    if (size == 0) {
        System.out.println("班级为空，删除终止");
        return;
    }

    // 删除学生
    System.out.println("请输入需要删除的学生学号");
    int id = sc.nextInt();
    int index = StudentUtils.studentIdIndex(students, size, id);
    if(index == -1)
    {
        System.out.println("未找到该学生，无法删除");
        return;
    }
    // 挪动数据
    for (int i = index; i < size; i++) {
        students[i] = students[i + 1];
    }

    // 改变size
    size--;
    System.out.println("删除成功");
}

```

## 测试类

```java
package student_management;

/**
 * ClassName: Test
 * Package: student_management
 * Description:
 *
 * @author 憨八嘎
 * @version 1.0
 */
public class Test {
    public static void main(String[] args) {
        // 启动界面，使用匿名对象创建
        new Main_menu().menu();
    }
}
```

